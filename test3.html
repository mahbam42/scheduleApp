<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>TEST 3 | RGX - Scheduling Software</title>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
<link rel="stylesheet" href="style/main.css" />

	<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
	<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>

<style type="text/css">
  .portlet-header { margin: 0.3em; padding-bottom: 4px; padding-left: 0.2em; }
  .portlet-header .ui-icon { float: right; }
  .portlet-content { padding: 0.4em; }
  .ui-sortable-placeholder { border: 1px dotted black; visibility: visible !important; height: 50px !important; }
  .ui-sortable-placeholder * { visibility: hidden; }
</style>

<script>
	$(function stretch() {
		$( ".shift" ).resizable({
			maxHeight: 50,
      		maxWidth: 1200,
            minHeight: 25,
	        minWidth: 44,
			grid: 25,
			ghost: true
		});
	});
	</script>
        
<script>
	$(function drag() {
    $('.shift').draggable({
        snap: true,
        grid: [25, 50],
        containment: "parent",
        axis: "x"
    });
});
$(document).ready(
$(function () {
    $('.close').click(function () {
        $(this).parent().remove();
    });
}));
$shift = '<div class="shift ui-resizable ui-draggable"><span class="close">X</span><p>Regular Shift</p><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div></div>';

// $(document).ready( function() {
//     $('.row').mouseenter( function() {
//         //console.log("mouse entered")
//         $(this).click( function(event) {
//             console.log("clicked on a row");
//              $($shift).appendTo(this);
//              $addOnce = false;
//             event.stopPropagation();
//         })
//     });
// });

$(document).ready( function(){
    $('.name').mouseenter( function() {
        $(this).click( function(event){
            $(this).siblings('.row').append($shift);
            $('.shift').drag();
            event.stopPropagation();
        })
    });
});

</script>

</head>

<body>
<h1>Super Awesome Scheduling Tool</h1>
<div class="day">
    <div class="schedule">
        <div class="column">1am</div>
        <div class="column">2am</div>
        <div class="column">3am</div>
        <div class="column">4am</div>
        <div class="column">5am</div>
        <div class="column">6am</div>
        <div class="column">7am</div>
        <div class="column">8am</div>
        <div class="column">9am</div>
        <div class="column">10am</div>
        <div class="column">11am</div>
        <div class="column">12pm</div>
        <div class="column">1pm</div>
        <div class="column">2pm</div>
        <div class="column">3pm</div>
        <div class="column">4pm</div>
        <div class="column">5pm</div>
        <div class="column">6pm</div>
        <div class="column">7pm</div>
        <div class="column">8pm</div>
        <div class="column">9pm</div>
        <div class="column">10pm</div>
        <div class="column">11pm</div>
        <div class="column" style="border: 0;">12am</div>
    </div>
    <div class="rowContainer">
        <div class="name">
            <p>Amy Sheridan</p>
        </div>
        <div class="row">
        	<div class="shift">
            	<span class="close">X</span>
            	<p>MOOD</p>
            </div>
        </div>
	</div><!-- End Row Container -->
    <div class="rowContainer">
        <div class="name">
            <p>Richard "Wolverine" Gottlieb</p>
        </div>
        <div class="row">
        	<div class="shift">
            	<span class="close">X</span>
            	<p>Regular Shift</p>
            </div>
            <div class="shift">
            	
            	<p>Bonus Shift</p>
            </div>
        </div>
	</div><!-- End Row-->
</div><!-- End Day -->

</body>
</html>
