<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Prototype 5 Volunteer Logic - Schedule App</title>

	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
	<link rel="stylesheet" href="style/main.css" />

	<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
	<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
    <script src="scripts/dragAndDrop.js"></script>

	<style type="text/css">
		#tabs {
			height: 20%;
			border: thin solid black;
			font-size: 10px;
		}
		#tabs div {
			padding-left: 2%;
		}
	</style>
	<script>
	// Experimental Stuff goes here!
$(document).ready( function() {
	// click event to change the label on a clicked shift
	$('#eventContainer').delegate('.shift', 'click', function(event){
		// $(this) is '.shift'
		$(this).find('p').hide(); // Hide the current label p 
		$(this).append('<input type="text" name="txtLabel" id="txtLabel" />'); // replace it with an input
		$(this).find("#txtLabel").focus() // and set focus to avoid the nasty stacking click event 

		// change the input back into a label
		$(this).delegate('#txtLabel', 'change', function(){
			// $(this) is '#txtLabel' 
			// console.log('#txtLabel delegation worked, now on to firing the blur event')
			$(this).siblings('p').text($('#txtLabel').val()); // change the label to the new value 
			$(this).siblings('p').show(); // bring it back 
			$(this).remove(); // and remove the input 
		}); // end textbox event // end 2nd level delegate
		return false;		
	}); // End Delegate

	
});

	</script>
</head>
<body>

	<h1>Schedule App</h1>
	<p>RGX Consulting Services &copy; 2013</p>

	<!-- The Top Menu -->
	<div id="tabs">
		<ol>
			<li><a href="#tab-1">Event Set-up</a></li>
			<li><a href="#tab-2">Volunteers</a></li>
			<li><a href="#tab-3">Info</a></li>
		</ol>
		<div id="tab-1"><!-- Event Set-up -->
			<table>
				<tr>
					<td></td>
					<td>Start Date</td>
					<td>End Date</td>
					<td>Default Shift Length (in Hours)</td>
					<td rowspan="2">
						<input type="button" id="btnNewEvent" value="Create Schedule">
					</td>
				</tr>
				<tr>
					<td><input type="text" name="eventName" id="txtEventName" placeholder="Event Name"></td>
					<td><input type="date" name="startDate" id="startDate"></td>
					<td><input type="date" name="endDate" id="endDate"></td>
					<td><input type="number" name="defaultShiftLength" id="defaultShiftLength"></td>
				</tr>
			</table>
		</div>
		<div id="tab-2"><!-- Volunteer Info -->
			<table>
				<tr>
					<td>Name</td>
					<td># of Shifts</td>
					<td>Length of Shifts (in Hours)</td>
					<td rowspan="2">
						<input type="button" id="btnAddVolunteer" value="Add Volunteer">
					</td>
				</tr>
				<tr>
					<td><input type="text" name="volunteer" id="txtVolunteer"></td>
					<td><input type="number" name="shifts" id="txtShifts"></td>
					<td><input type="number" name="shiftLenght" id="shiftLength"></td>
				</tr>
			</table>
		</div>
		<div id="tab-3"><!-- Application Info -->
			<ul>
				<li>Use the "Event Set-up" Tab to enter the Event name and dates</li>
				<li>Use the "Volunteers" Tab to quickly add a volunteer to the schedule</li>
				<li>
					Using the Schedule Grid:
					<ul>
						<li>Click on a Volunteer's name to add a shift for a given day</li>
						<li>Shifts can be moved by clicking anywhere in a shift and dragging it (Shifts snap to 1/2 hour intervals)</li>
						<li>Shifts can be deleted by clicking on the "X" in the top right corner</li>
					</ul>
				</li>
				<p>This application is developed and maintained by <a href="http://maxbrother.com">Max Brother Technologies</a> to report an issue or request features please <a href="https://github.com/mahbam42/scheduleApp/issues/new">Contact Us</a></p>				
			</ul>
		</div>
	</div><!-- End Control Panel -->
	<div id="eventContainer">
		<div class="day"><h3>Sun Apr 21 2013 - Day 1</h3><div class="rowContainer"><div class="name"><p>Max</p></div><div class="row"><div class="shift ui-resizable ui-draggable" style="width: 250;"><span class="close">X</span><p>Regular Shift</p><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div></div></div></div><div class="rowContainer"><div class="name"><p>Amy</p></div><div class="row"><div class="shift ui-resizable ui-draggable" style="width: 400;"><span class="close">X</span><p>Regular Shift</p><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div></div><div class="shift ui-resizable ui-draggable" style="width: 400;"><span class="close">X</span><p>Regular Shift</p><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div></div></div></div></div>
	</div><!-- End #eventContainer -->
</body>
</html>